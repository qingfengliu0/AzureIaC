version: 3
projects:
- name: test-environment
  dir: resume-qliu-test
  workflow: default
  autoplan:
    when_modified:
    - '**/*.tf'
    enabled: true
  apply_requirements: []
  branch: /test/
- name: production-environment
  dir: resume-qliu-prod
  workflow: default
  autoplan:
    when_modified:
    - '**/*.tf'
    enabled: true
  apply_requirements: 
  - approved                        # Require PR approval before apply
  - mergeable                       # Ensure PR is mergeable
  branch: /main/